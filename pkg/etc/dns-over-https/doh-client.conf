# DNS-over-HTTPS Client Configuration
# Documentation: https://github.com/m13253/dns-over-https

# Local listen address and port
# doh-client will listen on this address for DNS queries
listen = [
    "127.0.0.1:53",
    "[::1]:53",
]

# Upstream DNS-over-HTTPS servers
# Multiple servers can be configured for redundancy
[[upstream]]
    url = "https://dns.google/dns-query"
    weight = 50

[[upstream]]
    url = "https://cloudflare-dns.com/dns-query"
    weight = 50

# Upstream server selection strategy
# Options: random, weighted_round_robin
upstream_selector = "random"

# Passthrough domains
# These domains will be sent to the servers in [passthrough_resolver]
# instead of upstream DoH servers
# Useful for internal domain resolution
# passthrough = [
#     "lan",
#     "localdomain",
#     "internal.company.com",
# ]

# Passthrough resolver
# Only used when passthrough domains are defined
# [passthrough_resolver]
#     address = "192.168.1.1"
#     port = 53
#     timeout = 5

# HTTP timeout for upstream queries (seconds)
timeout = 30

# Disable EDNS0-Client-Subnet
# Set to true if you want better privacy but slower CDN performance
no_ecs = false

# Enable or disable IPv6
# no_ipv6 = false

# Logging
# Set to true to enable verbose logging
verbose = false

# Cache settings
# no_cache = false
# cache_size = 4096
